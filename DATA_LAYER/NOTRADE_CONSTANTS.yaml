# NoTrade â€” Single Source of Truth for Constants
#
# This file exists so ALL Markdown docs and later code reference the same names.
# Keep constant NAMES stable (changing values is OK; changing names breaks logs).

policy:
  # Edge
  EDGE_NET_THRESHOLD: 0.03
  SAFETY_MODE_EDGE_THRESHOLD: 0.06

  # Position sizing (as % of bankroll)
  MAX_POSITION_PCT: 0.06
  DEFAULT_POSITION_PCT: 0.03
  SMALL_EDGE_POSITION_PCT: 0.02
  STRONG_EDGE_MAX_POSITION_PCT: 0.05

  # Drawdowns
  MAX_WEEKLY_DRAWDOWN_PCT: 0.08
  MAX_MONTHLY_DRAWDOWN_PCT: 0.15

  # Timeframe
  TIMEFRAME_PASS_UNDER_MIN: 15
  TIMEFRAME_CAUTION_UNDER_MIN: 30

  # Correlation caps
  MAX_BTC_DIRECTION_EXPOSURE_PCT: 0.10
  MAX_TOTAL_CORRELATED_EXPOSURE_PCT: 0.15

market_rules:
  # Use an IANA timezone to be DST-safe.
  # (Polymarket text may say "ET"; we map that to America/New_York.)
  CANON_TZ: "America/New_York"
  CANON_SNAPSHOT_TIME_LOCAL: "12:00"
  CANON_CANDLE_INTERVAL: "1m"
  CANON_PRICE_METRIC: "CLOSE"

  # Canonical resolution venue for daily snapshot markets (per your current MVP rules).
  CANON_SOURCE: "BINANCE_SPOT"
  QUOTE_CCY: "USDT"
  PAIR_BY_ASSET:
    BTC: "BTCUSDT"
    ETH: "ETHUSDT"

  # Internal rule types (Chapter 2). Keep names stable.
  RULE_TYPES:
    - SNAPSHOT_CLOSE_ABOVE
    - SNAPSHOT_CLOSE_BELOW
    - SNAPSHOT_CLOSE_IN_RANGE
    - TOUCH_HIGH_ABOVE
    - TOUCH_LOW_BELOW

data_layer:
  # Freshness
  POLY_MAX_STALENESS_S: 10
  REF_MAX_STALENESS_S: 30

  # Liquidity
  MAX_SPREAD_PCT: 0.02

  # Probability anomaly detection (dynamic, regime-agnostic)
  PROB_JUMP_ALERT: 0.12
  PROB_JUMP_WINDOW_S: 180

  # Decision window guards
  DECISION_INTEGRITY_WINDOW_MIN: 10
